---
title: Introduction - Docs
---

# Introduction

**tsargp** is a command-line argument parsing library that helps you write clean code.

## Features

| Usability              | Functionality           | Presentation              |
| ---------------------- | ----------------------- | ------------------------- |
| Zero-dependency        | Bash completion         | Help message formatting   |
| Fully declarative      | Various option types    | Inline styles             |
| Type checking          | Value normalization     | Text wrapping             |
| Browser-compatible     | Value constraints       | Paragraphs and lists      |
| Moderate footprint[^1] | Option requirements     | [SGR] display attributes  |
| ESM-native             | Option name suggestions | Styling of error messages |
|                        | Asynchronous callbacks  | Option grouping/hiding    |

[^1]: ~31KB minified

## Motivation

Why use this library when there are already dozens of argument parsers on npm?

The single most distinctive feature is its _declarative_ API. Very few libraries on npm that we know
of at the time of writing have this feature (and none of those support requirements between options).
Most others have either imperative or fluent interface, whereas **tsargp** offers a way to declare
all of your command-line options in a single `object`.

Another feature that stands out is its capability (with the help of TypeScript) of ensuring that the
object resulting from argument parsing has _accurate_ data types, i.e., they reflect the attributes
specified in the options' definitions. In particular, an option's value will be a union literal if
you declare enumeration constraints in its definition.

## Installation

```sh
npm install tsargp
```

## Quick Start

Define your command-line options (we recommend placing them in a separate file):

```ts filename="<your_cli_name>.options.ts" /<your_cli_name>/
// <your_cli_name>.options.ts
import { Options, ... } from 'tsargp';

export default {
  // define options' attributes...
} as const satisfies Options;
```

Import them in your main script:

```ts filename="<your_cli_name>.ts" {8-10} /<your_cli_name>/
#!/usr/bin/env node
import { ArgumentParser } from 'tsargp';
import options from './<your_cli_name>.options.js';

try {
  const parser = new ArgumentParser(options);
  parser.validate(); // validate the options' definitions (you can skip this in production)
  // const values = parser.parse();             // use this to get the options' values
  // const values = await parser.parseAsync();  // use this if you declare async function options
  // parser.parseInto(myValues);                // use this if your values are enclosed in a class
} catch (err) {
  if (typeof err === 'string') {
    console.log(err); // help message, version or bash completion words
  } else {
    console.error(err); // genuine errors
    process.exitCode = 1;
  }
}
```

Optionally, enable bash completion:

```sh /<your_cli_name>/
complete -o default -C <your_cli_name> <your_cli_name>
```

[SGR]: https://www.wikiwand.com/en/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters
